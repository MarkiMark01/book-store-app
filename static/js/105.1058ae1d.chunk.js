"use strict";(self.webpackChunkbook_store_app=self.webpackChunkbook_store_app||[]).push([[105],{7611:(s,t,a)=>{a.r(t),a.d(t,{default:()=>H});var e=a(2791),c=a(3855),l=a(2049),_=a(7689);const r="styles_Cart_cart__68lFF",n="styles_Cart_cart__container__m4G19",o="styles_Cart_cart__buttons__WIs1j",i="styles_Cart_cart__button__EAiO6",d="styles_Cart_cart__box__z9fck",m="styles_Cart_cart__value__Ui7lS",h="styles_Cart_cart__titles__sqsmn",x="styles_Cart_cart__block__hDME+",p="styles_Cart_cart__buttonsBack__ikaxx",u="styles_Cart_cart__totalSum__ufcxV",j="styles_Cart_cart__totalPrice__vRuAN",C="styles_Cart_cart__emptyBlock__EWI3z",y="styles_Cart_cart__empty__aVhhv",k="styles_Cart_cart__pr__GV4K+",N="styles_Cart_cart__qua__BIUes",b="styles_Cart_cart__tit__4mnha",v="styles_Cart_cart__pri__jSD9h",g="styles_Cart_cart__quant__gNhaI",f="styles_Cart_cart__totPr__2lDmx";const w=a.p+"static/media/cart.5a1c3c755c07e59db7d65be6bc8d8bfb.svg",P=a.p+"static/media/bin.68583426fd99d3a76201.png";var T=a(4164);const E="Modal_modal__backdrop__SvbA3",S="Modal_modal__content__QceYQ",B="Modal_gift__VaonD",F="Modal_modal__ok__pJA2H",q=a.p+"static/media/thanks.f01a28824a1307a6ccfd.jpg";var I=a(3329);const M=document.querySelector("#modal-root");function A(s){let{onClose:t}=s;(0,e.useEffect)((()=>{const s=s=>{"Escape"===s.code&&t()};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}}),[t]);const a=s=>{s.currentTarget===s.target&&t()};return(0,T.createPortal)((0,I.jsx)("div",{className:E,onClick:a,children:(0,I.jsxs)("div",{className:S,children:[(0,I.jsx)("img",{src:q,alt:"Gift",className:B}),(0,I.jsx)("button",{className:F,onClick:a,children:"Ok"})]})}),M)}const D=s=>{let{goToBack:t,goToHome:a,handleClearCart:c,cart:l,handleRemoveFromCart:_}=s;const T=l.reduce(((s,t)=>s+parseFloat(t.totalPrice)),0).toFixed(2),[E,S]=(0,e.useState)(!1);return(0,I.jsxs)("main",{className:r,children:[(0,I.jsxs)("section",{className:n,children:[(0,I.jsxs)("section",{className:o,children:[(0,I.jsxs)("section",{className:p,children:[(0,I.jsx)("button",{type:"button",onClick:()=>t(),className:i,children:"Back"}),(0,I.jsx)("button",{type:"button",onClick:()=>a(),className:i,children:"Home"})]}),(0,I.jsx)("section",{children:(0,I.jsx)("button",{type:"button",onClick:()=>{console.log("Opening modal"),S(!0),c()},className:i,disabled:0===l.length,children:"Purchase"})})]}),(0,I.jsxs)("ul",{className:d,children:[l.length>0?l.map(((s,t)=>(0,I.jsxs)("li",{className:x,children:[(0,I.jsxs)("div",{className:h,children:[(0,I.jsx)("div",{children:"Title"}),(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{className:k,children:"Price"}),(0,I.jsx)("span",{className:N,children:"Quantity"}),(0,I.jsx)("span",{children:"Total"})]})]}),(0,I.jsxs)("div",{className:m,children:[(0,I.jsx)("span",{className:b,children:s.title}),(0,I.jsx)("img",{src:P,alt:"Remove",onClick:()=>_(s),width:20,height:20,style:{cursor:"pointer"}}),(0,I.jsxs)("span",{className:v,children:["$",s.price]}),(0,I.jsx)("span",{className:g,children:s.quantity}),(0,I.jsxs)("span",{className:f,children:["$",s.totalPrice]})]}),(0,I.jsx)("div",{className:j,children:(0,I.jsxs)("span",{children:["Total Price: $",s.totalPrice]})})]},t))):(0,I.jsxs)("section",{className:C,children:[(0,I.jsx)("img",{src:w,alt:"Cart is empty"}),(0,I.jsx)("p",{className:y,children:"Your cart is empty..."})]}),l.length>0&&(0,I.jsx)("div",{className:u,children:(0,I.jsxs)("span",{children:["Total Sum: $",T]})})]})]}),E&&(0,I.jsx)(A,{onClose:()=>{console.log("Closing modal"),S(!1)}})]})},H=()=>{const s=(0,c.v9)((s=>s.books.cart))||[],t=(0,c.I0)(),a=(0,_.s0)();return(0,I.jsx)(D,{goToBack:()=>{a(-1)},goToHome:()=>{a("/")},handleClearCart:()=>{t((0,l.LL)())},cart:s,handleRemoveFromCart:s=>{t((0,l.h2)(s))}})}}}]);
//# sourceMappingURL=105.1058ae1d.chunk.js.map