"use strict";(self.webpackChunkbook_store_app=self.webpackChunkbook_store_app||[]).push([[105],{7611:(s,t,a)=>{a.r(t),a.d(t,{default:()=>M});var e=a(2791),c=a(3855),l=a(2049),r=a(7689);const _="styles_Cart_cart__68lFF",n="styles_Cart_cart__container__m4G19",o="styles_Cart_cart__buttons__WIs1j",i="styles_Cart_cart__button__EAiO6",d="styles_Cart_cart__box__z9fck",m="styles_Cart_cart__value__Ui7lS",h="styles_Cart_cart__titles__sqsmn",x="styles_Cart_cart__block__hDME+",p="styles_Cart_cart__buttonsBack__ikaxx",u="styles_Cart_cart__totalSum__ufcxV",j="styles_Cart_cart__totalPrice__vRuAN",C="styles_Cart_cart__emptyBlock__EWI3z",y="styles_Cart_cart__empty__aVhhv",N="styles_Cart_cart__pr__GV4K+",b="styles_Cart_cart__qua__BIUes",k="styles_Cart_cart__tit__4mnha",v="styles_Cart_cart__pri__jSD9h",g="styles_Cart_cart__quant__gNhaI",f="styles_Cart_cart__totPr__2lDmx";const w=a.p+"static/media/cart.5a1c3c755c07e59db7d65be6bc8d8bfb.svg",P=a.p+"static/media/bin.68583426fd99d3a76201.png";var T=a(4164);const E="Modal_modal__backdrop__SvbA3",S="Modal_modal__content__QceYQ",B="Modal_gift__VaonD",F=a.p+"static/media/thanks.f01a28824a1307a6ccfd.jpg";var q=a(3329);const I=document.querySelector("#modal-root");function D(s){let{onClose:t}=s;(0,e.useEffect)((()=>{const s=s=>{"Escape"===s.code&&t()};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}}),[t]);return(0,T.createPortal)((0,q.jsx)("div",{className:E,onClick:s=>{s.currentTarget===s.target&&t()},children:(0,q.jsx)("div",{className:S,children:(0,q.jsx)("img",{src:F,alt:"Gift",className:B})})}),I)}const L=s=>{let{goToBack:t,goToHome:a,handleClearCart:c,cart:l,handleRemoveFromCart:r}=s;const T=l.reduce(((s,t)=>s+parseFloat(t.totalPrice)),0).toFixed(2),[E,S]=(0,e.useState)(!1);return(0,q.jsxs)("main",{className:_,children:[(0,q.jsxs)("section",{className:n,children:[(0,q.jsxs)("section",{className:o,children:[(0,q.jsxs)("section",{className:p,children:[(0,q.jsx)("button",{type:"button",onClick:()=>t(),className:i,children:"Back"}),(0,q.jsx)("button",{type:"button",onClick:()=>a(),className:i,children:"Home"})]}),(0,q.jsx)("section",{children:(0,q.jsx)("button",{type:"button",onClick:()=>{console.log("Opening modal"),S(!0),c()},className:i,disabled:0===l.length,children:"Purchase"})})]}),(0,q.jsxs)("ul",{className:d,children:[l.length>0?l.map(((s,t)=>(0,q.jsxs)("li",{className:x,children:[(0,q.jsxs)("div",{className:h,children:[(0,q.jsx)("div",{children:"Title"}),(0,q.jsxs)("div",{children:[(0,q.jsx)("span",{className:N,children:"Price"}),(0,q.jsx)("span",{className:b,children:"Quantity"}),(0,q.jsx)("span",{children:"Total"})]})]}),(0,q.jsxs)("div",{className:m,children:[(0,q.jsx)("span",{className:k,children:s.title}),(0,q.jsx)("img",{src:P,alt:"Remove",onClick:()=>r(s),width:20,height:20,style:{cursor:"pointer"}}),(0,q.jsxs)("span",{className:v,children:["$",s.price]}),(0,q.jsx)("span",{className:g,children:s.quantity}),(0,q.jsxs)("span",{className:f,children:["$",s.totalPrice]})]}),(0,q.jsx)("div",{className:j,children:(0,q.jsxs)("span",{children:["Total Price: $",s.totalPrice]})})]},t))):(0,q.jsxs)("section",{className:C,children:[(0,q.jsx)("img",{src:w,alt:"Cart is empty"}),(0,q.jsx)("p",{className:y,children:"Your cart is empty..."})]}),l.length>0&&(0,q.jsx)("div",{className:u,children:(0,q.jsxs)("span",{children:["Total Sum: $",T]})})]})]}),E&&(0,q.jsx)(D,{onClose:()=>{console.log("Closing modal"),S(!1)}})]})},M=()=>{const s=(0,c.v9)((s=>s.books.cart))||[],t=(0,c.I0)(),a=(0,r.s0)();return(0,q.jsx)(L,{goToBack:()=>{a(-1)},goToHome:()=>{a("/")},handleClearCart:()=>{t((0,l.LL)())},cart:s,handleRemoveFromCart:s=>{t((0,l.h2)(s))}})}}}]);
//# sourceMappingURL=105.53a6086f.chunk.js.map